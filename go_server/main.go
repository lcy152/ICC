/*
 * ICC PROJECT
 *
 * Welcome to use ICC product
 *
 * API version: 1.0.0
 * Contact: 
 * Generated by: lcy
 */

package main

import (
	"go_server/mysql"
	redis2 "go_server/redis"
	sw "go_server/service"
	"log"
	"net/http"
)

func main() {
	log.Printf("Server started")
	mlog := InitLog()
	sql := mysql.GetMysql(USERNAME, PASSWORD, NETWORK, SERVER, PORT, DATABASE, mlog)
	redis := redis2.GetRedis(RedisIp, RedisPort, ExpireTime, mlog)
	redis.TestRedis()
	router := sw.NewRouter(sql, redis, mlog)

	log.Fatal(http.ListenAndServe(":8000", router))
}



