<div class="big-view">
  <div class="info-title">
    <p class="info-title-after">基本信息</p>
  </div>
  <form nz-form [formGroup]="validateForm" class="form">
    <nz-form-item>
      <nz-form-label [nzSpan]="5" nzRequired>组名</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="请输入组名!">
        <input type="text" nz-input formControlName="groupName" placeholder="请输入组名" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired>选择机构</nz-form-label>
      <nz-form-control nzErrorTip="请选择机构名称!">
        <nz-select formControlName="institutionId" nzPlaceHolder="请选择机构名称">
          <nz-option *ngFor="let item of institutionList" [nzValue]="item['institution_id']"
            [nzLabel]="item['institution_name']"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="5" nzRequired>管理员</nz-form-label>
      <nz-form-control [nzSpan]="12" nzErrorTip="请选择组管理员!">
        <nz-select formControlName="managerId" nzPlaceHolder="请选择组管理员">
          <nz-option *ngFor="let item of userList" nzValue="{{ item?._id }}" nzLabel="{{ item?.user_name }}">
          </nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
  </form>

  <div class="info-title">
    <p class="info-title-after">组权限</p>
  </div>
  <div class="group">
    <div *ngFor="let item of dataKeys">
      <p>{{ item }}</p>
      <div *ngFor="let control of nodes[item]">
        <label nz-checkbox [(ngModel)]="control.value">{{control.key}}</label>
      </div>
    </div>
  </div>

  <div class="info-title">
    <p class="info-title-after">添加组员</p>
  </div>

  <div class="member">
    <div *ngFor="let item1 of institutionMemberList">
      <p> {{ institutionMemberName[item1] }} </p>
      <div *ngFor="let item2 of institutionMember[item1]">
        <label nz-checkbox [(ngModel)]="this.userMemberMap[item2?._id]">{{item2?.user_name}}</label>
      </div>
    </div>
  </div>
  <p class="divider"></p>

  <div class="submit-button">
    <button nz-button nzType="primary" (click)="addUserInfo()">新增</button>
  </div>
</div>